/** JS скрипты Шаблона-сайта */
BX.namespace("BX.ADM"),"undefined"==typeof BX.ADM.CompMainMenu&&(BX.ADM.CompMainMenu=function(){this._settings={},this._panels=[]},BX.ADM.CompMainMenu.prototype={initialize:function(a){this._settings=a?a:{};const b=this.getSetting("nameClassContainerComponent",!1),c=this.getSetting("nameClassPanelSubmenu",!1),d=this.getSetting("nameClassBtnClosePanel",!1),e=this.getSetting("nameClassBtnOpenPanel",!1);if(!!c){const a=document.querySelectorAll("."+b+" ."+c);for(let b of a){let a=b.getAttribute("id");!a||this.setPanel(a)}}if(!!b&&!!e){const a=document.querySelectorAll("."+b+" ."+e);for(let b of a){let a=b.getAttribute("data-parent-panel"),c=b.getAttribute("data-next-panel");!a||!c||BX.bind(b,"click",BX.delegate(this.handleOpenPanelButtonClick,this))}}if(!!b&&!!d){const a=document.querySelectorAll("."+b+" ."+d);for(let b of a){let a=b.getAttribute("data-parent-panel"),c=b.getAttribute("data-prev-panel");!a||!c||BX.bind(b,"click",BX.delegate(this.handleClosePanelButtonClick,this))}}},getSetting:function(a,b){return"undefined"==typeof this._settings[a]?b:this._settings[a]},setSetting:function(a,b){this._settings[a]=b},getPanels:function(){return this._panels},setPanel:function(a){this._panels.push(a)},handleOpenPanelButtonClick:function(a){a.stopPropagation();const b=this.getSetting("nameClassBtnOpenPanel",!1);if(b){const c=a.target.closest("."+b);if(c){const a=c.getAttribute("data-parent-panel"),b=c.getAttribute("data-next-panel");!a||!b||this.actionOpenPanel(a,b)}}},handleClosePanelButtonClick:function(a){a.stopPropagation();const b=this.getSetting("nameClassBtnClosePanel",!1);if(b){const c=a.target.closest("."+b);if(c){const a=c.getAttribute("data-parent-panel"),b=c.getAttribute("data-prev-panel");!a||!b||this.actionClosePanel(a,b)}}},actionOpenPanel:function(a,b){const c=BX(a),d=BX(b),e=this.getSetting("nameClassActivePanelSubmenu",!1),f=this.getSetting("nameClassShowAnimation",!1),g=this.getSetting("nameClassHideAnimation",!1),h=this.getSetting("animationDuration",1500);!c||(!!e&&BX.removeClass(c,e),!!g&&BX.removeClass(c,g)),!d||(!!e&&BX.addClass(d,e),!!g&&BX.removeClass(d,g),!!f&&BX.addClass(d,f)),setTimeout(BX.delegate(this.actionRemoveClassPanel,this),h,b)},actionClosePanel:function(a,b){const c=BX(a),d=BX(b),e=this.getSetting("nameClassActivePanelSubmenu",!1),f=this.getSetting("nameClassHideAnimation",!1),g=this.getSetting("animationDuration",1500);!c||(!!e&&BX.removeClass(c,e),!!f&&BX.addClass(c,f)),!d||(!!e&&BX.addClass(d,e),!!f&&BX.removeClass(d,f)),setTimeout(BX.delegate(this.actionRemoveClassPanel,this),g,b)},actionRemoveClassPanel:function(a){const b=this.getPanels(),c=this.getSetting("nameClassShowAnimation",!1),d=this.getSetting("nameClassHideAnimation",!1);for(let e,f=0;f<b.length;f++)if(e=b[f],e!=a){let a=BX(e);!a||(!!c&&BX.removeClass(a,c),!!d&&BX.removeClass(a,d))}}},BX.ADM.CompMainMenu.create=function(a){let b=new BX.ADM.CompMainMenu;return b.initialize(a),b});BX.ready(function(){BX.ADM.CompMainMenu.create({nameClassBtnClosePanel:"js-main_submenu__btn-close-panel",nameClassBtnOpenPanel:"js-main_submenu__btn-open-panel",nameClassPanelsSubmenu:"js-main-submenu__panel",nameClassContainerComponent:"body__panel-menu",nameClassPanelSubmenu:"main-menu__panel",nameClassActivePanelSubmenu:"main-menu__panel--active",nameClassShowAnimation:"animation-show",nameClassHideAnimation:"animation-hide",animationDuration:3e3})});